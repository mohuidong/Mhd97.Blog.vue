(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-99a23cc8"],{"00ab":function(t,e,a){"use strict";var n=a("d87e"),s=a.n(n);s.a},"10f0":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{ceiling:t.ceiling},attrs:{id:"nav"}},[a("el-row",[a("el-col",{attrs:{xs:0,sm:3,md:3,lg:3,xl:3}},[a("div",{staticClass:"Non-existent"},[a("p",[t._v("占位符")])])]),a("el-col",{attrs:{xs:24,sm:18,md:18,lg:18,xl:18}},[a("div",{attrs:{id:"app_nav"}},[a("ul",{attrs:{id:"app_nav_ul"}},[t.isLoginStatus?a("li",{staticClass:"app_nav_li"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.loginOut()}}},[t._v("退  出")])]):a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/login"}},[t._v("登  录")])],1),a("li",{staticClass:"app_nav_li active"},[a("router-link",{attrs:{to:"/MyHome"}},[t._v("主  页")])],1),a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/class"}},[t._v("分  类")])],1),a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/issue"}},[t._v("问  答")])],1),t.isLoginStatus?a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/me"}},[t._v("我  的")])],1):t._e(),a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/about"}},[t._v("关  于")])],1),a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/reward"}},[t._v("打  赏")])],1)])])]),a("el-col",{attrs:{xs:0,sm:3,md:3,lg:3,xl:3}},[a("div",{staticClass:"Non-existent"},[a("p",[t._v("占位符")])])])],1)],1)},s=[],r={props:["ceiling"],data:function(){return{isLoginStatus:!1}},methods:{isLogin:function(){var t=localStorage.getItem("access_token");null!==t&&(this.isLoginStatus=!0)},loginOut:function(){localStorage.removeItem("access_token");var t=localStorage.getItem("access_token");null===t&&(this.isLoginStatus=!1)}},created:function(){this.isLogin()}},i=r,o=(a("7a2a"),a("2877")),c=Object(o["a"])(i,n,s,!1,null,"0b97db96",null);e["a"]=c.exports},1406:function(t,e,a){},"1af6":function(t,e,a){var n=a("63b6");n(n.S,"Array",{isArray:a("9003")})},"20fd":function(t,e,a){"use strict";var n=a("d9f6"),s=a("aebd");t.exports=function(t,e,a){e in t?n.f(t,e,s(0,a)):t[e]=a}},3702:function(t,e,a){var n=a("481b"),s=a("5168")("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||r[s]===t)}},"40c3":function(t,e,a){var n=a("6b4c"),s=a("5168")("toStringTag"),r="Arguments"==n(function(){return arguments}()),i=function(t,e){try{return t[e]}catch(a){}};t.exports=function(t){var e,a,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(a=i(e=Object(t),s))?a:r?n(e):"Object"==(o=n(e))&&"function"==typeof e.callee?"Arguments":o}},4831:function(t,e,a){},"4ee1":function(t,e,a){var n=a("5168")("iterator"),s=!1;try{var r=[7][n]();r["return"]=function(){s=!0},Array.from(r,(function(){throw 2}))}catch(i){}t.exports=function(t,e){if(!e&&!s)return!1;var a=!1;try{var r=[7],o=r[n]();o.next=function(){return{done:a=!0}},r[n]=function(){return o},t(r)}catch(i){}return a}},"549b":function(t,e,a){"use strict";var n=a("d864"),s=a("63b6"),r=a("241e"),i=a("b0dc"),o=a("3702"),c=a("b447"),u=a("20fd"),l=a("7cd6");s(s.S+s.F*!a("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,a,s,d,f=r(t),v="function"==typeof this?this:Array,g=arguments.length,p=g>1?arguments[1]:void 0,_=void 0!==p,m=0,h=l(f);if(_&&(p=n(p,g>2?arguments[2]:void 0,2)),void 0==h||v==Array&&o(h))for(e=c(f.length),a=new v(e);e>m;m++)u(a,m,_?p(f[m],m):f[m]);else for(d=h.call(f),a=new v;!(s=d.next()).done;m++)u(a,m,_?i(d,p,[s.value,m],!0):s.value);return a.length=m,a}})},"54a1":function(t,e,a){a("6c1c"),a("1654"),t.exports=a("95d5")},"75fc":function(t,e,a){"use strict";a.d(e,"a",(function(){return f}));var n=a("a745"),s=a.n(n);function r(t){if(s()(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var i=a("774e"),o=a.n(i),c=a("c8bb"),u=a.n(c);function l(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return o()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return r(t)||l(t)||d()}},"774e":function(t,e,a){t.exports=a("d2d5")},"7a2a":function(t,e,a){"use strict";var n=a("1406"),s=a.n(n);s.a},"7cd6":function(t,e,a){var n=a("40c3"),s=a("5168")("iterator"),r=a("481b");t.exports=a("584a").getIteratorMethod=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||r[n(t)]}},9595:function(t,e,a){"use strict";var n=a("4831"),s=a.n(n);s.a},"95d5":function(t,e,a){var n=a("40c3"),s=a("5168")("iterator"),r=a("481b");t.exports=a("584a").isIterable=function(t){var e=Object(t);return void 0!==e[s]||"@@iterator"in e||r.hasOwnProperty(n(e))}},"9fe9":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("span",{staticClass:"footer-left"},[a("a",{attrs:{href:"javascript:;"}},[t._v("Mhd97.top")]),a("a",{attrs:{href:"https://beian.miit.gov.cn"}},[t._v("   © 2020 mhd97.top 版权所有 桂ICP备18009232号-1")])]),a("span",{staticClass:"footer-right"},[t._v("\n        Proudly Made By\n        "),a("a",{attrs:{href:"javascript:;"}},[t._v("Mohuidong")])])])}],r={name:"myFooter",data:function(){return{footerData:[]}}},i=r,o=(a("00ab"),a("2877")),c=Object(o["a"])(i,n,s,!1,null,"22e8897b",null);e["a"]=c.exports},a745:function(t,e,a){t.exports=a("f410")},b0dc:function(t,e,a){var n=a("e4ae");t.exports=function(t,e,a,s){try{return s?e(n(a)[0],a[1]):e(a)}catch(i){var r=t["return"];throw void 0!==r&&n(r.call(t)),i}}},c8bb:function(t,e,a){t.exports=a("54a1")},d2d5:function(t,e,a){a("1654"),a("549b"),t.exports=a("584a").Array.from},d87e:function(t,e,a){},e254:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"issue-question"},[a("myNav",{attrs:{ceiling:t.ceiling}}),t._m(0),a("main",{directives:[{name:"loading",rawName:"v-loading",value:!t.first&&t.loading,expression:"!first && loading"}]},[a("div",{staticClass:"title"},[a("h3",[1==t.issueData.status?a("span",[a("i",{staticClass:"el-icon-warning"})]):2==t.issueData.status?a("span",[a("i",{staticClass:"el-icon-error"})]):3==t.issueData.status?a("span",[a("i",{staticClass:"el-icon-success"})]):t._e(),t._v("\n                "+t._s(t.issueData.question)+"\n                "),a("router-link",{staticStyle:{float:"right"},attrs:{to:"/issue"}},[a("i",{staticClass:"el-icon-back"},[t._v("列表")])])],1),a("div",{staticClass:"avatar",style:{backgroundImage:"url("+t.avatar+")"}}),a("div",{staticClass:"time"},[t._v("\n                "+t._s(t.issueData.nickname)+" | "+t._s(this.handleFormatDateMinuteSec(t.issueData.created_at))+"\n            ")])]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.issueData.content)}}),t._m(1),t.bestId>0?a("div",{staticClass:"issue-answer-best"},[a("el-card",{staticClass:"box-card"},[a("h2",[t._v("最优回答")]),a("h4",[t._v(t._s(t.bestData.nickname)+" | "+t._s(t.handleFormatDateMinuteSec(t.bestData.created_at)))]),a("p",[t._v(t._s(t.bestData.answer))])])],1):t._e(),a("div",{staticClass:"issue-answer"},t._l(t.answerData,(function(e){return a("article",{key:e["id"]},[a("div",{staticClass:"answer-avatar",style:{backgroundImage:"url("+e.avatar+")"}}),a("div",{staticClass:"answer-title"},[a("h4",[t._v(t._s(e["nickname"])+" | "+t._s(t.handleFormatDateMinuteSec(e["created_at"]))+" "),1==t.isQuestioner?a("i",{staticClass:"el-icon-success",staticStyle:{float:"right"},on:{click:function(a){return t.pick(e.id)}}},[t._v("采纳")]):t._e()])]),a("p",[t._v(t._s(e["answer"]))])])})),0),t.isNoAnswerData?a("div",{staticClass:"no-answerData"},[a("br"),a("h2",[t._v("抱歉，暂时没有人回答。")]),a("br"),a("h2",[t._v("抱歉，暫時沒有人回答。")]),a("br"),a("h2",[t._v("Sorry, no one answered.")]),a("br"),a("h2",[t._v("すみません、誰も答えませんでした。")]),a("br"),a("h2",[t._v("죄송합니다. 아무도 대답하지 않았습니다.")]),a("br")]):t._e(),a("div",{staticClass:"issue-answer-reply"},[a("el-form",{ref:"sendAnswer",attrs:{"label-width":"80px",model:t.sendAnswer,"status-icon":"",rules:t.rules}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",autosize:{minRows:3,maxRows:10}},model:{value:t.sendAnswer.replyContent,callback:function(e){t.$set(t.sendAnswer,"replyContent",e)},expression:"sendAnswer.replyContent"}}),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.submitForm("sendAnswer")}}},[t._v("提交")])],1)],1)]),a("myFooter")],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question-wrapper"},[n("img",{staticClass:"bg",attrs:{src:a("eb44"),alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"issue-answer-header"},[a("h1",[t._v("回答")])])}],r=a("75fc"),i=a("10f0"),o=a("9fe9"),c=a("eeb9"),u={name:"Question",components:{myNav:i["a"],myFooter:o["a"]},data:function(){var t=function(t,e,a){""===e?a(new Error("请输入用户名")):e.length>55?a(new Error("请输入不超过55位字符")):a()};return{ceiling:!1,avatar:"",bestId:"",issueData:[],answerData:[],bestData:[],currentPage:"",first:!0,loading:!0,isNoIssueData:"",isNoAnswerData:"",isQuestioner:!1,sendAnswer:{replyContent:""},reply:[],rules:{replyContent:[{validator:t,trigger:"blur"}]}}},created:function(){this.listenScroll(),this.getIssueData(),this.getAnswerData(1)},methods:{listenScroll:function(){var t=this;window.onscroll=function(){document.documentElement.scrollTop>0?t.ceiling=!0:t.ceiling=!1}},getIssueData:function(){var t=this;c["a"].get("/v1/issues/"+this.$route.params["id"]+"?").then((function(e){t.issueData=e.data,t.isNoIssueData=!1,0===t.issueData.length&&(t.isNoIssueData=!0),t.bestId=t.issueData.best_id,t.isQuestioner=t.issueData.isWriter,t.bestId>0&&t.getBestAnswerData(),t.avatar=t.issueData.avatar}),(function(){t.loading=!1}))},getAnswerData:function(t){var e=this;c["a"].get("/v1/answers?id="+this.$route.params["id"]+"&perPage=20&page="+t).then((function(t){var a=t.data;e.answerData=Object(r["a"])(a["items"]),e.currentPage=a["_meta"]["currentPage"],e.maxPage=a["_meta"]["pageCount"],e.isNoAnswerData=!1,0===e.answerData.length&&(e.isNoAnswerData=!0),e.loading=!1}),(function(){e.loading=!1}))},getBestAnswerData:function(){var t=this;c["a"].get("/v1/answers/"+this.$route.params["id"]+"?").then((function(e){t.bestData=e.data,t.loading=!1}),(function(){t.loading=!1}))},handleFormatDateMinuteSec:function(t){var e=new Date(1e3*t);return void 0===t?"":"".concat(e.getFullYear(),"-").concat(e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1),"-").concat(e.getDate()>=10?e.getDate():"0"+e.getDate()," ").concat(e.getHours()>=10?e.getHours():"0"+e.getHours(),":").concat(e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes(),":").concat(e.getSeconds()>=10?e.getSeconds():"0"+e.getSeconds())},scrollTo800:function(){window.scrollTo(0,800)},submitForm:function(t){var e=this,a=this;this.$refs[t].validate((function(t){if(!t)return alert("有信息填写错误请重新填写"),!1;c["a"].post("/v1/answers?id="+e.$route.params["id"],{replyContent:e.sendAnswer.replyContent}).then((function(t){200===t.status?(a.$elementMessage("谢谢你的回答","success"),location.reload()):a.$elementMessage("网络错误请联系管理员","warning")})).catch((function(t){a.$elementMessage("好像是出了一点意外","warning")}))}))},pick:function(t){var e=this;c["a"].put("/v1/issues/"+this.$route.params["id"]+"?answer="+t).then((function(t){200===t.status?(e.$elementMessage("哇，终于找到答案了","success"),location.reload()):e.$elementMessage("网络错误请联系管理员","warning")})).catch((function(t){e.$elementMessage("好像是出了一点意外","warning")}))}}},l=u,d=(a("9595"),a("2877")),f=Object(d["a"])(l,n,s,!1,null,"16e309d1",null);e["default"]=f.exports},eb44:function(t,e,a){t.exports=a.p+"img/issue.72ac5534.jpg"},f410:function(t,e,a){a("1af6"),t.exports=a("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-99a23cc8.98141d71.js.map