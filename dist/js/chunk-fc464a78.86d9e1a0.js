(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc464a78"],{"10f0":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{ceiling:t.ceiling},attrs:{id:"nav"}},[a("el-row",[a("el-col",{attrs:{xs:0,sm:3,md:3,lg:3,xl:3}},[a("div",{staticClass:"Non-existent"},[a("p",[t._v("占位符")])])]),a("el-col",{attrs:{xs:24,sm:18,md:18,lg:18,xl:18}},[a("div",{attrs:{id:"app_nav"}},[a("ul",{attrs:{id:"app_nav_ul"}},[t.isLoginStatus?a("li",{staticClass:"app_nav_li"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.loginOut()}}},[t._v("退  出")])]):a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/login"}},[t._v("登  录")])],1),a("li",{staticClass:"app_nav_li active"},[a("router-link",{attrs:{to:"/"}},[t._v("主  页")])],1),a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/class"}},[t._v("分  类")])],1),a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/issue"}},[t._v("问  答")])],1),t.isLoginStatus?a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/me"}},[t._v("我  的")])],1):t._e(),a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/about"}},[t._v("关  于")])],1),a("li",{staticClass:"app_nav_li"},[a("router-link",{attrs:{to:"/reward"}},[t._v("打  赏")])],1)])])]),a("el-col",{attrs:{xs:0,sm:3,md:3,lg:3,xl:3}},[a("div",{staticClass:"Non-existent"},[a("p",[t._v("占位符")])])])],1)],1)},n=[],i={props:["ceiling"],data:function(){return{isLoginStatus:!1}},methods:{isLogin:function(){var t=localStorage.getItem("access_token");null!==t&&(this.isLoginStatus=!0)},loginOut:function(){localStorage.removeItem("access_token");var t=localStorage.getItem("access_token");null===t&&(this.isLoginStatus=!1)}},created:function(){this.isLogin()}},r=i,o=(a("6a58"),a("2877")),c=Object(o["a"])(r,s,n,!1,null,"513753c7",null);e["a"]=c.exports},"158a":function(t,e,a){"use strict";a("1e49")},"1e49":function(t,e,a){},2909:function(t,e,a){"use strict";function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}function n(t){if(Array.isArray(t))return s(t)}function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function r(t,e){if(t){if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(t,e):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return n(t)||i(t)||r(t)||o()}a.d(e,"a",(function(){return c}))},"6a58":function(t,e,a){"use strict";a("d904")},9175:function(t,e,a){"use strict";a("f9d2")},"9fe9":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("span",{staticClass:"footer-left"},[a("a",{attrs:{href:"https://beian.miit.gov.cn"}},[t._v("© 2020 mhd97.top 版权所有 桂ICP备18009232号-1")])]),a("span",{staticClass:"footer-right"},[t._v("\n        Proudly Made By\n        "),a("a",{attrs:{href:"https://github.com/mohuidong/Mhd97.Blog.vue"}},[t._v("MoHuiDong(914685196@qq.com)")])])])}],i={name:"myFooter",data:function(){return{footerData:[]}}},r=i,o=(a("158a"),a("2877")),c=Object(o["a"])(r,s,n,!1,null,"366015c7",null);e["a"]=c.exports},d904:function(t,e,a){},e254:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"issue-question"},[a("myNav",{attrs:{ceiling:t.ceiling}}),t._m(0),a("main",{directives:[{name:"loading",rawName:"v-loading",value:!t.first&&t.loading,expression:"!first && loading"}]},[a("div",{staticClass:"title"},[a("h3",[1==t.issueData.status?a("span",[a("i",{staticClass:"el-icon-warning"})]):2==t.issueData.status?a("span",[a("i",{staticClass:"el-icon-error"})]):3==t.issueData.status?a("span",[a("i",{staticClass:"el-icon-success"})]):t._e(),t._v("\n                "+t._s(t.issueData.question)+"\n                "),a("router-link",{staticStyle:{float:"right"},attrs:{to:"/issue"}},[a("i",{staticClass:"el-icon-back"},[t._v("列表")])])],1),a("div",{staticClass:"avatar",style:{backgroundImage:"url("+t.avatar+")"}}),a("div",{staticClass:"time"},[t._v("\n                "+t._s(t.issueData.nickname)+" | "+t._s(this.handleFormatDateMinuteSec(t.issueData.created_at))+"\n            ")])]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.issueData.content)}}),t._m(1),t.bestId>0?a("div",{staticClass:"issue-answer-best"},[a("el-card",{staticClass:"box-card"},[a("h2",[t._v("最优回答")]),a("h4",[t._v(t._s(t.bestData.nickname)+" | "+t._s(t.handleFormatDateMinuteSec(t.bestData.created_at)))]),a("p",[t._v(t._s(t.bestData.answer))])])],1):t._e(),a("div",{staticClass:"issue-answer"},t._l(t.answerData,(function(e){return a("article",{key:e["id"]},[a("div",{staticClass:"answer-avatar",style:{backgroundImage:"url("+e.avatar+")"}}),a("div",{staticClass:"answer-title"},[a("h4",[t._v(t._s(e["nickname"])+" | "+t._s(t.handleFormatDateMinuteSec(e["created_at"]))+" "),1==t.isQuestioner?a("i",{staticClass:"el-icon-success",staticStyle:{float:"right"},on:{click:function(a){return t.pick(e.id)}}},[t._v("采纳")]):t._e()])]),a("p",[t._v(t._s(e["answer"]))])])})),0),t.isNoAnswerData?a("div",{staticClass:"no-answerData"},[a("br"),a("h2",[t._v("抱歉，暂时没有人回答。")]),a("br"),a("h2",[t._v("抱歉，暫時沒有人回答。")]),a("br"),a("h2",[t._v("Sorry, no one answered.")]),a("br"),a("h2",[t._v("すみません、誰も答えませんでした。")]),a("br"),a("h2",[t._v("죄송합니다. 아무도 대답하지 않았습니다.")]),a("br")]):t._e(),a("div",{staticClass:"issue-answer-reply"},[a("el-form",{ref:"sendAnswer",attrs:{"label-width":"80px",model:t.sendAnswer,"status-icon":"",rules:t.rules}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",autosize:{minRows:3,maxRows:10}},model:{value:t.sendAnswer.replyContent,callback:function(e){t.$set(t.sendAnswer,"replyContent",e)},expression:"sendAnswer.replyContent"}}),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.submitForm("sendAnswer")}}},[t._v("提交")])],1)],1)]),a("myFooter")],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"question-wrapper"},[s("img",{staticClass:"bg",attrs:{src:a("eb44"),alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"issue-answer-header"},[a("h1",[t._v("回答")])])}],i=a("2909"),r=a("10f0"),o=a("9fe9"),c=a("eeb9"),l={name:"Question",components:{myNav:r["a"],myFooter:o["a"]},data:function(){var t=function(t,e,a){""===e?a(new Error("请输入用户名")):e.length>55?a(new Error("请输入不超过55位字符")):a()};return{ceiling:!1,avatar:"",bestId:"",issueData:[],answerData:[],bestData:[],currentPage:"",first:!0,loading:!0,isNoIssueData:"",isNoAnswerData:"",isQuestioner:!1,sendAnswer:{replyContent:""},reply:[],rules:{replyContent:[{validator:t,trigger:"blur"}]}}},created:function(){this.listenScroll(),this.getIssueData(),this.getAnswerData(1)},methods:{listenScroll:function(){var t=this;window.onscroll=function(){document.documentElement.scrollTop>0?t.ceiling=!0:t.ceiling=!1}},getIssueData:function(){var t=this;c["a"].get("/v1/issues/"+this.$route.params["id"]+"?").then((function(e){t.issueData=e.data,t.isNoIssueData=!1,0===t.issueData.length&&(t.isNoIssueData=!0),t.bestId=t.issueData.best_id,t.isQuestioner=t.issueData.isWriter,t.bestId>0&&t.getBestAnswerData(),t.avatar=t.issueData.avatar}),(function(){t.loading=!1}))},getAnswerData:function(t){var e=this;c["a"].get("/v1/answers?id="+this.$route.params["id"]+"&perPage=20&page="+t).then((function(t){var a=t.data;e.answerData=Object(i["a"])(a["items"]),e.currentPage=a["_meta"]["currentPage"],e.maxPage=a["_meta"]["pageCount"],e.isNoAnswerData=!1,0===e.answerData.length&&(e.isNoAnswerData=!0),e.loading=!1}),(function(){e.loading=!1}))},getBestAnswerData:function(){var t=this;c["a"].get("/v1/answers/"+this.$route.params["id"]+"?").then((function(e){t.bestData=e.data,t.loading=!1}),(function(){t.loading=!1}))},handleFormatDateMinuteSec:function(t){var e=new Date(1e3*t);return void 0===t?"":"".concat(e.getFullYear(),"-").concat(e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1),"-").concat(e.getDate()>=10?e.getDate():"0"+e.getDate()," ").concat(e.getHours()>=10?e.getHours():"0"+e.getHours(),":").concat(e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes(),":").concat(e.getSeconds()>=10?e.getSeconds():"0"+e.getSeconds())},scrollTo800:function(){window.scrollTo(0,800)},submitForm:function(t){var e=this,a=this;this.$refs[t].validate((function(t){if(!t)return alert("有信息填写错误请重新填写"),!1;c["a"].post("/v1/answers?id="+e.$route.params["id"],{replyContent:e.sendAnswer.replyContent}).then((function(t){200===t.status?(a.$elementMessage("谢谢你的回答","success"),location.reload()):a.$elementMessage("网络错误请联系管理员","warning")})).catch((function(t){a.$elementMessage("好像是出了一点意外","warning")}))}))},pick:function(t){var e=this;c["a"].put("/v1/issues/"+this.$route.params["id"]+"?answer="+t).then((function(t){200===t.status?(e.$elementMessage("哇，终于找到答案了","success"),location.reload()):e.$elementMessage("网络错误请联系管理员","warning")})).catch((function(t){e.$elementMessage("好像是出了一点意外","warning")}))}}},u=l,d=(a("9175"),a("2877")),v=Object(d["a"])(u,s,n,!1,null,"26f278f3",null);e["default"]=v.exports},eb44:function(t,e,a){t.exports=a.p+"img/issue.72ac5534.jpg"},f9d2:function(t,e,a){}}]);
//# sourceMappingURL=chunk-fc464a78.86d9e1a0.js.map